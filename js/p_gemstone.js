$(document).ready(function(){$(".main-carousel").flickity({cellAlign:"center",contain:!0,pageDots:!1,wrapAround:!0,imagesLoaded:!0,asNavFor:".carousel-main"}),$(".other-img").on("error",function(){$(this).parent().remove()}),$(".size-btn").click(function(e){$(this).css({border:"solid 1px #7df048"}).addClass("selected_size"),$(".size-btn").not(this).css({border:"solid 1px #e6e6e6"}).removeClass("selected_size")}),$(".other-img").click(function(e){$(this).css({border:"solid 1px #e6e6e6"}),$(".other-img").not(this).css({border:"none"}),$(".main-image").attr("src",$(this).attr("src")).attr("data-magnify-src",$(this).attr("src")),$(".magnify-lens").css("background-image","url("+$(this).attr("src")+")")}),$(".favourite").click(function(){$.ajax({url:"../favourite",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",data:{sku:$("span.item_sku").text(),link:$(location).attr("href"),img:$(".main-selected").attr("src")},success:function(e){popup("green","Added To Wish List")},error:function(e,t,n){popup("error")}})}),$(".select-stone").click(function(){$(".setting-popup").css({display:"block"})}),$(".setting-background").click(function(){$(".setting-popup").css({display:"none"})}),$(".select-gemstone,.buy-gem").click(function(){$(".setting-popup").css({display:"none"})}),$(".select-gemstone").click(function(){$.ajax({url:"../add-setting",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",data:{sku:$("span.item_sku").text(),img:$(".other-img").attr("src")||null,type:"stone",stone:"lab-diamond",url:window.location.href},success:function(e){"exist"==e?popup("green","Diamond Already In Cart"):(popup("green","Diamond Selected"),window.location.href="engagement-ring"==e?window.location.origin+"/engagement-ring":window.location.origin+"/complete-ring")},error:function(e,t,n){console.log(e),popup("error")}})}),$(".buy-gem").click(function(){$.ajax({url:"../add-cart",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",data:{sku:$(".item_sku").text(),engraving:null,img:$(".other-img").attr("src")||null,url:window.location.href,type:"lab-stone",stone:"lab-diamond"},success:function(e){if("exist"==e)popup("green","Diamond Already In Cart");else if("stone_remove_from_bar"==e)popup("green","Diamond Added To Cart"),$(".node-skin-diamond").empty().append('<div style="padding-left: 16px;" class="num number-2">2</div><div class="cont"><a class="uncomplete-dia select-stones" href="{{ url("/diamonds")}}">Select Stone</a></div><div class="pho"></div>');else{var t,n;popup("green","Added To Cart"),t=$(".main-selected").attr("src"),n=$(".gemstone-name").text()+" (Stone Only)",$(".add-cart-notification").fadeIn().delay(3e3).fadeOut("fast"),$(".img-notification").attr("src",t),$(".add-cart-name").text(n),$.ajax({url:"../shop-cart-num",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",success:function(e){console.log(e),$(".cart-text").empty().append(e)},error:function(e,t,n){}})}},error:function(e,t,n){console.log(e),popup("error")}})}),$(document).on("click",".notification-close",function(){$(".add-cart-notification").remove()})});