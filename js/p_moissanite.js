$(document).ready(function(){$(".main-carousel").flickity({cellAlign:"center",contain:!0,pageDots:!1,wrapAround:!0,imagesLoaded:!0,asNavFor:".carousel-main"}),$(".other-img").on("error",function(){$(this).parent().remove()}),$(".size-btn").click(function(t){$(this).css({border:"solid 1px #7df048"}).addClass("selected_size"),$(".size-btn").not(this).css({border:"solid 1px #e6e6e6"}).removeClass("selected_size")}),$(".other-img").click(function(t){$(this).css({border:"solid 1px #e6e6e6"}),$(".other-img").not(this).css({border:"none"}),$(".main-image").attr("src",$(this).attr("src")).attr("data-magnify-src",$(this).attr("src")),$(".magnify-lens").css("background-image","url("+$(this).attr("src")+")")}),$(".favourite").click(function(){$.ajax({url:"../favourite",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",data:{sku:$("span.item_sku").text(),link:$(location).attr("href"),img:$(".main-selected").attr("src")},success:function(t){popup("green","Added To Wish List")},error:function(t,e,n){popup("error")}})}),$(".select-stone").click(function(){$(".setting-popup").css({display:"block"})}),$(".setting-background").click(function(){$(".setting-popup").css({display:"none"})}),$(".select-gemstone,.buy-gem").click(function(){$(".setting-popup").css({display:"none"})}),$(".select-gemstone").click(function(){$.ajax({url:"../add-setting",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",data:{sku:$("span.item_sku").text(),img:$(".other-img").attr("src")||null,type:"stone",stone:"moissanite",url:window.location.href},success:function(t){popup("green","Diamond Selected"),window.location.href="engagement-ring"==t?window.location.origin+"/engagement-ring":window.location.origin+"/complete-ring"},error:function(t,e,n){popup("error"),console.log(t)}})}),$(".buy-gem").click(function(){$.ajax({url:"../add-cart",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",data:{sku:$("span.item_sku").text(),engraving:null,img:$(".other-img").attr("src")||null,url:window.location.href,type:"stone",stone:"moissanite"},success:function(t){var e,n;popup("green","Added To Cart"),e=$(".main-selected").attr("src"),n=$(".moissanite-name").text()+" (Stone Only)",$(".add-cart-notification").fadeIn().delay(3e3).fadeOut("fast"),$(".img-notification").attr("src",e),$(".add-cart-name").text(n),$.ajax({url:"../shop-cart-num",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",success:function(t){$(".cart-text").empty().append(t)},error:function(t,e,n){console.log(t)}})},error:function(t,e,n){popup("error")}})}),$(document).on("click",".notification-close",function(){$(".add-cart-notification").remove()})});