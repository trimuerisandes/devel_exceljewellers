$(document).ready(function(){function e(){var e=$.urlParam("category");if(e)switch($(".filter-append").remove(),e.toLowerCase()){case"bracelet":$(".filter-inner:last").after('<div class="filter-inner filter-append"> <div class="filter-name">Style</div><div class="filter-dropdown-outer"> <div class="filter-dropdown"> <a href="fine-jewellery?style=bangle&category=bracelet"> <div class="filter-case-inner style-case"><span class="icon-Bangle-Bracelet-01 dd-ring-icon"></span> <div class="style-text">Bangle</div></div></a> <a href="fine-jewellery?style=chain&category=bracelet"> <div class="filter-case-inner style-case"><span class="icon-Chain-bracelet-01 dd-ring-icon"></span> <div class="style-text">Chain</div></div></a> <a href="fine-jewellery?style=charm&category=bracelet"> <div class="filter-case-inner style-case"><span class="icon-Charm-Bracelet-01 dd-ring-icon"></span> <div class="style-text">Charm</div></div></a> <a href="fine-jewellery?style=cuff&category=bracelet"> <div class="filter-case-inner style-case"><span class="icon-Cuff-Bracelet-01 dd-ring-icon"></span> <div class="style-text">Cuff</div></div></a> <a href="fine-jewellery?style=heart&category=bracelet"> <div class="filter-case-inner style-case"><span class="icon-Heart-01 dd-ring-icon"></span> <div class="style-text">Heart</div></div></a> <a href="fine-jewellery?style=tennis&category=bracelet"> <div class="filter-case-inner style-case"><span class="icon-Tennis-Bracelet-01 dd-ring-icon"></span> <div class="style-text">Tennis</div></div></a> </div></div></div>');break;case"rings":$(".filter-inner:last").after('<div class="filter-inner filter-append"> <div class="filter-name">Style</div><div class="filter-dropdown-outer"> <div class="filter-dropdown"> <a href="fine-jewellery?category=rings&style=Diamond"> <div class="filter-case-inner style-case"><span class="icon-Diamond-Ring-01 dd-ring-icon"></span> <div class="style-text">Diamond</div></div></a> <a href="fine-jewellery?category=rings&style=Gemstone"> <div class="filter-case-inner style-case"><span class="icon-Gem-Stone-Ring-01 dd-ring-icon"></span> <div class="style-text">Gemstone</div></div></a> <a href="fine-jewellery?category=rings&style=Pearl"> <div class="filter-case-inner style-case"><span class="icon-Pearl-Ring-01 dd-ring-icon"></span> <div class="style-text">Pearl</div></div></a> </div></div></div>');break;case"necklaces":$(".filter-inner:last").after('<div class="filter-inner filter-append"> <div class="filter-name">Style</div><div class="filter-dropdown-outer"> <div class="filter-dropdown"> <a href="fine-jewellery?style=bar&category=necklaces"> <div class="filter-case-inner style-case"><span class="icon-Bar-01 dd-ring-icon"></span> <div class="style-text">Bar</div></div></a> <a href="fine-jewellery?style=Choker&category=necklaces"> <div class="filter-case-inner style-case"><span class="icon-Choker-01 dd-ring-icon"></span> <div class="style-text">Choker</div></div></a> <a href="fine-jewellery?style=fashion&category=necklaces"> <div class="filter-case-inner style-case"><span class="icon-Fashion-01 dd-ring-icon"></span> <div class="style-text">Fashion</div></div></a> <a href="fine-jewellery?style=heart&category=necklaces"> <div class="filter-case-inner style-case"><span class="icon-Heart-01 dd-ring-icon"></span> <div class="style-text">Heart</div></div></a> <a href="fine-jewellery?style=locket&category=necklaces"> <div class="filter-case-inner style-case"><span class="icon-Locket-01 dd-ring-icon"></span> <div class="style-text">Locket</div></div></a> <a href="fine-jewellery?style=y knots&category=necklaces"> <div class="filter-case-inner style-case"><span class="icon-Y-Knots-01 dd-ring-icon"></span> <div class="style-text">Y Knots</div></div></a> </div></div></div>');break;case"earrings":$(".filter-inner:last").after('<div class="filter-inner filter-append"> <div class="filter-name">Style</div><div class="filter-dropdown-outer"> <div class="filter-dropdown"> <a href="fine-jewellery?style=drop&category=earrings"> <div class="filter-case-inner style-case"><span class="icon-Drops-01 dd-ring-icon"></span> <div class="style-text">Drop</div></div></a> <a href="fine-jewellery?style=huggies&category=earrings"> <div class="filter-case-inner style-case"><span class="icon-Huggies-01 dd-ring-icon"></span> <div class="style-text">Huggies</div></div></a> <a href="fine-jewellery?style=hoops&category=earrings"> <div class="filter-case-inner style-case"><span class="icon-Hoops-01 dd-ring-icon"></span> <div class="style-text">Hoops</div></div></a> <a href="fine-jewellery?style=stud&category=earrings"> <div class="filter-case-inner style-case"><span class="icon-Studs-01 dd-ring-icon"></span> <div class="style-text">Stud</div></div></a> </div></div></div>')}}function s(){t=1,$.ajax({url:"fine-jewellery",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",data:{category:$.urlParam("category"),metal:$(".metal-case.selected").find(".metal-carat").text(),color:$(".metal-case.selected").find(".metal-color").text(),style:$.urlParam("style"),gem:$(".stone-case.selected").find(".gem-name").text(),page:t,sort:$(".sort-by-case.selected").find(".sort-by").attr("id")||null},beforeSend:function(){},success:function(s){$("#fine-jewellery-container").empty().append(s),$("#fine-jewellery .ajax-img").on("load",function(){$(this).prev().fadeOut(0)}),e()},error:function(e,s,a){}})}$.urlParam=function(e){var s=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==s?null:decodeURI(s[1])||0},e(),$(document).on("click",".style-case",function(){$(this).addClass("selected"),$(this).siblings().removeClass("selected"),s()}),$(".metal-case").click(function(){$(this).addClass("selected"),$(this).siblings().removeClass("selected"),s()}),$(".sort-by-case").click(function(){$(this).addClass("selected"),$(this).siblings().removeClass("selected"),s()}),$(".stone-case").click(function(){$(this).addClass("selected"),$(this).siblings().removeClass("selected"),s()}),$(document).mouseup(function(e){$(event.target).hasClass("filter-name")||0===$(e.target).closest(".filter-dropdown-outer").length&&$(".filter-dropdown-outer").slideUp("fast")}),$(document).on("click",".filter-name",function(){$(this).next().slideToggle(),$(".filter-dropdown-outer").not($(this).next()).slideUp()});var a,t=1;$(window).scroll(function(){if($(window).scrollTop()+$(window).height()>=$("footer").offset().top){var e=$(".fine-jewellery-inner").attr("data-count");clearTimeout(a),a=setTimeout(function(){t++,!$(".loading-more").length&&24*t-24<e&&$('<div class="loading-more">Loading More...</div>').insertAfter("#fine-jewellery"),24*t-24<e&&$.ajax({url:"local",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",data:{category:$.urlParam("category"),metal:$(".metal-case.selected").find(".metal-carat").text(),color:$(".metal-case.selected").find(".metal-color").text(),style:$.urlParam("style"),gem:$(".stone-case.selected").find(".gem-name").text(),page:t,sort:$(".sort-by-case.selected").find(".sort-by").attr("id")||null},beforeSend:function(){},success:function(e){$("#fine-jewellery-container").append($(e)),$("#fine-jewellery .ajax-img").on("load",function(){$(this).prev().fadeOut(0)}),$(".loading-more").remove()},error:function(e,s,a){console.log(e)}})},50)}}),$(".ajax-img").one("load",function(){$(this).prev().fadeOut(0)}).each(function(){this.complete&&($(this).load(),$(this).prev().fadeOut(0))}),$(document).on("click",".alt-m",function(e){e.preventDefault(),$(this).parent().prev().children(".ajax-img").attr("src",$(this).attr("data-img")),$(this).parent().next().children(".engagement-ring-text-title").text($(this).attr("data-name")),$(this).parent().next().children(".engagement-ring-text-price").text("$"+$(this).attr("data-price")),$(this).parents("a").attr("href",$(this).attr("data-link"))})});