$(document).ready(function(){$.urlParam=function(a){var e=new RegExp("[?&]"+a+"=([^&#]*)").exec(window.location.href);return null==e?null:decodeURI(e[1])||0};var a,e,t=1;$(window).scroll(function(){if($(window).scrollTop()+$(window).height()>=$("footer").offset().top){var e=$(".moissanite-inner").attr("data-count");clearTimeout(a),a=setTimeout(function(){t++,!$(".loading-more").length&&24*t-24<e&&$('<div class="loading-more">Loading More...</div>').insertAfter("#moissanite"),24*t-24<e&&$.ajax({url:"getmoissanite",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",data:{page:t,shape:$.urlParam("shape"),width:$(".width_btn.selected").text(),carat:$(".carat_btn.selected").text()},beforeSend:function(){},success:function(a){$("#moissanite-container").append($(a)),$("#moissanite-container .ajax-img").on("load",function(){$(this).prev().fadeOut(0)}),$(".loading-more").remove()},error:function(a,e,t){}})},50)}}),$(document).on("mouseenter",".moissanite-inner",function(){4==$(this).find("video").prop("readyState")&&($(this).find(".ajax-img").fadeOut(1),$(this).find("video").trigger("play"))}),$(document).on("mouseleave",".moissanite-inner",function(){$(this).find("video").trigger("pause")}),e=$.urlParam("shape"),$("#"+e).css({background:"#d60d8c",color:"white !important"}),$("#"+e).find("div,span").css({color:"white"}),$("#moissanite-container .ajax-img").on("load",function(){$(this).prev().fadeOut(0)}),$(".ajax-img").one("load",function(){$(this).prev().fadeOut(0)}).each(function(){this.complete&&($(this).load(),$(this).prev().fadeOut(0))}),$("a[param-name]").each(function(){var a=new URL(window.location.href);if($(this).attr("param-value").includes("{}")){value=$(this).attr("param-value").split("{}"),names=$(this).attr("param-name").split("{}");for(var e=0;e<value.length;e++)a.searchParams.set(names[e],value[e])}else a.searchParams.set($(this).attr("param-name"),$(this).attr("param-value"));$(this).attr("href",a.toString())}),$('a[param-value="'+$.urlParam("carat")+'"] label').css({background:"#d60d8c",color:"white"}),$('a[param-value="'+$.urlParam("width")+'"] label').css({background:"#d60d8c",color:"white"})});